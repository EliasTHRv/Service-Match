<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
    <head th:replace="@{/fragments/head} :: head"></head>
    <body id="page-top" class="bg-dark">
        <nav th:replace="@{/fragments/navbar} :: nav"></nav>
        <main class="container justify-content-center">
            <div>
                <h5 class="text-color">Todos los proveedores</h5>
                <form th:action="@{'/user/providers/' + ${selectedSkill}}" method="get">
                    <div class="form-group my-3">
                        <select name="skill">
                            <option value="">Seleccionar oficio</option>
                            <option th:each="skill : ${skills}" th:value="${skill.name}" th:text="${skill.name}"></option>
                        </select>
                        <button type="submit" class="btn btn-primary">Buscar</button>
                    </div>
                </form>
                <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre</th>
                            <th>WhathApp</th>

                            <th>Ver mas </th>

                        </tr>
                    </thead>

                    <tbody>
                        <tr th:each="provider : ${providers}">
                            <td th:text="${provider.id}"></td>
                            <td th:text="${provider.name}"></td>
                            <td th:text="${provider.whatsApp}"></td>
                            <td>
                             
                                <a th:href="@{/user/providers/details/{id}(id=${provider.id})}" class="card-link">Ver Proveedor</a>
                            </td>
                        </tr>
                    </tbody>

                </table>
            </div>
            <div th:replace="fragments/paginacion :: div"></div>
        </main>
        <footer th:replace="@{/fragments/footer} :: footer"></footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
        </script>
    </body>
</html>